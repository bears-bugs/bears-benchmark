<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sat Jul 29 22:24:48 PDT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MultipleTypeIdResolver (Jackson dataformat: Ion 2.9.0 API)</title>
<meta name="date" content="2017-07-29">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MultipleTypeIdResolver (Jackson dataformat: Ion 2.9.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MultipleTypeIdResolver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/fasterxml/jackson/dataformat/ion/polymorphism/IonAnnotationTypeSerializer.html" title="class in com.fasterxml.jackson.dataformat.ion.polymorphism"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/fasterxml/jackson/dataformat/ion/polymorphism/MultipleTypeIdResolver.html" target="_top">Frames</a></li>
<li><a href="MultipleTypeIdResolver.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.fasterxml.jackson.dataformat.ion.polymorphism</div>
<h2 title="Interface MultipleTypeIdResolver" class="title">Interface MultipleTypeIdResolver</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>com.fasterxml.jackson.databind.jsontype.TypeIdResolver</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">MultipleTypeIdResolver</span>
extends com.fasterxml.jackson.databind.jsontype.TypeIdResolver</pre>
<div class="block">This is an extension of <code>TypeIdResolver</code> for serializing and deserializing polymorphic types. The vanilla
 implementation of TypeIdResolver only enables a single type id to be serialized with a value, which is not always
 sufficient for every consumer of a value with polymorphic typing to identify and instantiate the appropriate type.
 <p/>
 This allows more robust polymorphism support, in that consumers of a serialized polymorphic object do not need
 complete type information. As long as their deserializer can resolve (or, understand) one of the annotated type ids,
 they can still perform polymorphic deserialization. An example:
 <p/>
 <pre>
 class BasicMessage {
      String id;
      String message;
 }
 class SocialMediaMessage extends BasicMessage {
      boolean cool;
 }

 Let's say we serialized a value into:

      {id="123",message="hi",cool=false}.

 The existing polymorphism support may have annotated this as the following Ion:

      SocialMediaMessage::{id="123",message="hi",cool=false}

 But a consumer who only has BasicMessage in its classloader won't know (or care) what a SocialMediaMessage is, and be
 stuck. Using this interface enables the following serialization:

      SocialMediaMessage::BasicMessage::{id="123",message="hi",cool=false}

 About particular implementations:
 <p/>
 Ion serialization should be using <a href="../../../../../../com/fasterxml/jackson/dataformat/ion/polymorphism/IonAnnotationTypeSerializer.html" title="class in com.fasterxml.jackson.dataformat.ion.polymorphism"><code>IonAnnotationTypeSerializer</code></a>, which is polymorphism-aware, but how should a
 MultipleTypeIdResolver handle a call to the non-polymorphic <code>TypeIdResolver.idFromValue(Object)</code>? I'd probably
 do something like <code>return selectId(idsFromValue(value)); </code>, to keep things working when serializing
 to non-Ion formats. Throwing a runtime exception is another idea, if you want to forbid non-Ion serialization.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/fasterxml/jackson/dataformat/ion/polymorphism/MultipleTypeIdResolver.html#idsFromValue(java.lang.Object)">idsFromValue</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</code>
<div class="block">Provides a list of valid (polymorphic) type ids for the given value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../com/fasterxml/jackson/dataformat/ion/polymorphism/MultipleTypeIdResolver.html#selectId(java.lang.String[])">selectId</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;ids)</code>
<div class="block">Given a set of type ids, select the most 'relevant'.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.fasterxml.jackson.databind.jsontype.TypeIdResolver">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.fasterxml.jackson.databind.jsontype.TypeIdResolver</h3>
<code>getDescForKnownTypeIds, getMechanism, idFromBaseType, idFromValue, idFromValueAndType, init, typeFromId</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="idsFromValue(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idsFromValue</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;idsFromValue(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value)</pre>
<div class="block">Provides a list of valid (polymorphic) type ids for the given value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>value</code> - Java object to be serialized.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An array of zero or more ids indicating valid types this value may be viewed as. May not be null.</dd></dl>
</li>
</ul>
<a name="selectId(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>selectId</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;selectId(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;ids)</pre>
<div class="block">Given a set of type ids, select the most 'relevant'. We're not just doing something simple (like picking the
 first one) because it might not even be present in the classloader, or it might be a supertype of the others,
 or have some other reason for not being the best fit for a value. The heuristic is implementation-specific, but
 I suggest choosing the id with the most narrow type present in the classloader. The returned id can be passed into
 <code>TypeIdResolver.typeFromId(com.fasterxml.jackson.databind.DatabindContext, java.lang.String)</code> to get a <code>JavaType</code>. It is a invariant
 on this method that its output, if non-null, be valid input for <code>TypeIdResolver.typeFromId(com.fasterxml.jackson.databind.DatabindContext, java.lang.String)</code> of the
 same TypeIdResolver instance.
 <p/>
 Note that we're not resolving the array of ids directly into a JavaType because there is code (in the Jackson
 package, not ours) which consumes the id String itself, not the JavaType object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ids</code> - Type ids from a jsonified object. May not be null.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The selected id, or null if input was empty or contained no resolvable id</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MultipleTypeIdResolver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../com/fasterxml/jackson/dataformat/ion/polymorphism/IonAnnotationTypeSerializer.html" title="class in com.fasterxml.jackson.dataformat.ion.polymorphism"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?com/fasterxml/jackson/dataformat/ion/polymorphism/MultipleTypeIdResolver.html" target="_top">Frames</a></li>
<li><a href="MultipleTypeIdResolver.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://fasterxml.com/">FasterXML</a>. All rights reserved.</small></p>
</body>
</html>
