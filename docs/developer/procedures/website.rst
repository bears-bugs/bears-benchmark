Building the Website
==========================

This page describes how the geotools.org and docs.geotools.org sites are built and how to modify and maintain them.

Server Setup
^^^^^^^^^^^^^

The sites are generously hosted by osgeo and live on the server projects.osgeo.osuosl.org.

All the site files are located at /osgeo/geotools/htdocs. This directory contains two main sub directories:

* web - Root of the main geotools.org site

* docs - Root of docs.geotools.org site

Under the docs folder are two folders:

* stable - Root of docs for current stable branch

* latest - Root of docs for trunk

Under each of the stable|latest folders are the folder:

* userguide - Root of user guide for that branch
* javadocs - Root of the javadocs for that branch

The apache configuration files are located in the /etc/apache2/sites-available directory.

The script /home/geotools/update_site.sh is used to update the published site once doc artifacts are uploaded to the server. See below section.

Server Access
^^^^^^^^^^^^^^^

The site is built and owned by a user named "geotools". In order to login to the server as the geotools user you must obtain the appropriate private key. Contact the PSC to obtain the private key and copy it into your .ssh directory.

Once the private key has been obtained one can log into the server with the following command::
   
   ssh -i ~/.ssh/id_rsa_geotools geotools@projects.osgeo.osuosl.org

Site and Doc Generation
^^^^^^^^^^^^^^^^^^^^^^^^
The site and docs are generated by the two hudson jobs:

* http://hudson.opengeo.org/hudson/view/geotools/job/geotools-2.6.x-docs

* http://hudson.opengeo.org/hudson/view/geotools/job/geotools-trunk-docs

Upon successful builds the docs and sites are uploaded directly to the server. Once uploaded the update_site.sh is used to unpack the artifacts into the web root and publish the site.